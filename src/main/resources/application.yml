spring:
  application:
    name: karaoke-be
  
  # Cache configuration (Caffeine cache for now, can be changed later)
  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=1000,expireAfterWrite=10m
  
  # JPA configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
  
  # Database configuration (PostgreSQL for production, H2 for development)
  datasource:
    url: ${DATABASE_URL:jdbc:h2:mem:karaokedb}
    username: ${DATABASE_USERNAME:sa}
    password: ${DATABASE_PASSWORD:}
    driver-class-name: ${DATABASE_DRIVER:org.h2.Driver}

# Server configuration
server:
  port: 8080
  servlet:
    context-path: /api

# SpringDoc OpenAPI (Swagger) configuration
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operationsSorter: method
    tagsSorter: alpha

# Application specific configuration
app:
  name: Karaoke Backend API
  version: 1.0.0
  
  # External tools configuration
  tools:
    yt-dlp-path: ${YT_DLP_PATH:yt-dlp}
    ffmpeg-path: ${FFMPEG_PATH:ffmpeg}
    python-path: ${PYTHON_PATH:python}
  
  # Storage configuration
  storage:
    temp-dir: ${TEMP_DIR:./temp}
    output-dir: ${OUTPUT_DIR:./output}
    retention-hours: ${RETENTION_HOURS:24}
  
  # Lyrics API configuration
  lyrics:
    genius-api-key: ${GENIUS_API_KEY:}
    musixmatch-api-key: ${MUSIXMATCH_API_KEY:}
  
  # Speech-to-text configuration
  speech-to-text:
    provider: ${SPEECH_TO_TEXT_PROVIDER:openai} # openai, google, aws
    openai-api-key: ${OPENAI_API_KEY:}
    google-credentials-path: ${GOOGLE_CREDENTIALS_PATH:}
    aws-region: ${AWS_REGION:}

# Logging configuration
logging:
  level:
    root: INFO
    com.karaoke: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
